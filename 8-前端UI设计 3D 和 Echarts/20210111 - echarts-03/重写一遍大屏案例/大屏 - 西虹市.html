<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>重写</title>
    <link rel="stylesheet" href="./css/main.css"></link>
</head>
<body>
<!--标题-->
<div id="header">西虹市经济情况可视化</div>
<!--内容-->
<div id="cont">
    <div class="cont-edge">
        <div id="chartL1" class="box"></div>
        <div id="chartL2" class="box"></div>
        <div id="chartL3" class="box"></div>
    </div>
    <div class="cont-center">
        <div class="center-tit">
            <div class="center-row">
                <div class="center-num">12345678</div>
                <div class="center-num">67890542</div>
            </div>
            <div class="center-row">
                <div class="center-text">2019年收入情况</div>
                <div class="center-text">2019年总支出情况</div>
            </div>
        </div>
        <div class="center-cont">
            <!--背景图-->
            <div class="centerImg">
                <!--网格点-->
                <img class="img1" src="./images/lbx.png" alt="">
            </div>
            <div class="centerImg">
                <!--流光-->
                <img class="img2" src="./images/jt.png" alt="">
            </div>
            <!--地图容器-->
            <div id="chartC"></div>
        </div>
    </div>
    <div class="cont-edge">
        <div id="chartR1" class="box"></div>
        <div id="chartR2" class="box"></div>
        <div class="box">
            <div id="chartR3"></div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/echarts@5.0.0/dist/echarts.min.js"></script>
<script src="./js/chalk.js"></script>
<script>
{
// 折线图
    const source=[
            ['年','2014', '2015', '2016', '2017', '2018', '2019', '2020'],
            ['收入',820, 932, 901, 934, 1290, 1330, 1520],
            ['支出',200, 632, 601, 634, 850, 1000, 1100]
        ];
    const dom = document.getElementById('chartL1')
    const myChart = echarts.init(dom,'chalk')
    const option = {
        title:{
            text:"西虹市人民收入增长情况",
            left:'center'
        },
        legend:{
            left:'right'
        },
        dataset:{source},
        xAxis:{
            type:'category'
        },
        yAxis:{
            type:'value'
        },
        series:[{
            type:"line",
            seriesLayoutBy:'row'
        },{
            type:'line',
            seriesLayoutBy:'row'
        }]
    }
    myChart.setOption(option)
}

{
// 饼图
    const source=[
            {value:5000,name:'旅游'},
            {value:4500,name:'饮食'},
            {value:6500,name:'服装'},
            {value:3500,name:'电影'},
            {value:2500,name:'其它'}
        ];
    
    const dom = document.getElementById('chartL2')
    const myChart = echarts.init(dom, "chalk")

    const option = {
        title:{
            text:"西虹市人民出穿住行支出占比",
            left:"center"
        },
        lengend:{
            left:"left"
        },
        dataset:{
            source
        },
        tooltip:{
            formatter:function({parcent}){
                return Math.round(parcent) + "%"
            }
        },
        series:{
            type:'pie',
            center:['50%','60%']
        }

    }

    myChart.setOption(option)
}
{
    // 散点图
    const dom = document.getElementById('chartL3')
    const myChart = echarts.init(dom,'chalk')
    const dimensions = ['收入','年龄','人口','住址','时间']

    const option = {
        title:{
            text:'西虹市人民收入和年龄关系',
            left:'center'
        },
        dataset:{
            dimensions
        },
        xAxis:{
            name:'年龄',
            type:'value'
        },
        yAxis:{
            name:'收入',
            type:'value'
        },
        series:{
            type:'scatter',
            encode:{
                x:1,
                y:0,
                tooltip:[0,1]
            },
            symbolSize:3,
            itemStyle:{
                opacity:0.2
            }
        }
    }
    fetch('./lib/table.json').then(res => res.json()).then(data => {
        option.dataset.source = data
        myChart.setOption(option)
    })
}
{
    const data=[
            {
                name : '预算分配',
                value : [43000, 45000, 42000, 45000, 40000, 49000],
            },
            {
                name : '实际开销',
                value : [30000, 34000, 55000, 35000, 32000, 31000],
            }
        ];

        const indicator=[
            { name: '销售',min:0,max:60000},
            { name: '管理',min:0,max:60000},
            { name: '信息技术',min:0,max:60000},
            { name: '客服',min:0,max:60000},
            { name: '研发',min:0,max:60000},
            { name: '市场',min:0,max:60000}
        ];

    const dom = document.getElementById('chartR1')
    const myChart = echarts.init(dom,'chalk')

    const option = {
        title:{
            text:'西虹市财务开销'
        },
        tooltip:{},
        lengend:{
            left:'left',
            top:30,
            orient:'vertical'
        },
        radar:{
            indicator
        },
        series:{
            type:'radar',
            data:data
        }
    }

    myChart.setOption(option)
}
</script>
</body>
</html>